<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RandomOS</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: black;
            margin: 0;
            overflow: hidden;
            color: white;
        }

        /* Dock */
        #dock {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(50, 50, 50, 0.8);
            padding: 10px;
            border-radius: 10px;
            display: flex;
            gap: 10px;
        }

        .dock-icon {
            font-size: 30px;
            cursor: pointer;
        }

        /* Windows */
        .window {
            position: absolute;
            width: 300px;
            height: 200px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            border: 1px solid #ccc;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
            resize: both;
            overflow: auto;
        }

        .window-header {
            background: gray;
            padding: 5px;
            display: flex;
            justify-content: space-between;
            cursor: move;
        }

        .window-buttons {
            display: flex;
            gap: 5px;
        }

        .window-buttons div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
        }

        .close { background: red; }
        .minimize { background: yellow; }
        .fullscreen { background: green; }

        /* Mascot */
        #mascot {
            position: absolute;
            width: 80px;
            height: 80px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            user-select: none;
        }

        /* Control Center */
        #control-center {
            position: fixed;
            top: 0;
            right: -300px;
            width: 250px;
            height: 100vh;
            background: rgba(50, 50, 50, 0.9);
            transition: right 0.3s ease-in-out;
            padding: 20px;
        }

        #control-center.open {
            right: 0;
        }

        #sliders {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <!-- Dock -->
    <div id="dock">
        <div class="dock-icon" onclick="openApp('calendar')">üìÖ</div>
        <div class="dock-icon" onclick="openApp('settings')">‚öôÔ∏è</div>
        <div class="dock-icon" onclick="openApp('browser')">üåç</div>
    </div>

    <!-- Mascot -->
    <img src="https://i.ibb.co/XffN5T0z/Untitled93-0000-02-46-20250204170936.png" id="mascot">

    <!-- Control Center -->
    <div id="control-center">
        <div id="sliders">
            <label>Brightness</label>
            <input type="range" id="brightness-slider" min="0" max="100">
            <label>Volume</label>
            <input type="range" id="volume-slider" min="0" max="100">
        </div>
    </div>

    <!-- Windows -->
    <div id="window-container"></div>

    <script>
        let windowOffset = 0;

        function openApp(appName) {
            let win = document.createElement("div");
            win.classList.add("window");
            win.style.left = 100 + windowOffset + "px";
            win.style.top = 100 + windowOffset + "px";
            windowOffset += 20;

            let content = "";
            if (appName === "calendar") content = "<h2>üìÖ Calendar</h2><p>Today is a great day!</p>";
            if (appName === "settings") content = "<h2>‚öôÔ∏è Settings</h2><p>Toggle options here.</p>";
            if (appName === "browser") content = "<iframe src='https://arandomdumdev.github.io/RandomOSWeb/'></iframe>";

            win.innerHTML = `
                <div class="window-header">
                    <div class="window-buttons">
                        <div class="close" onclick="this.parentElement.parentElement.parentElement.remove()"></div>
                        <div class="minimize"></div>
                        <div class="fullscreen"></div>
                    </div>
                    ${appName}
                </div>
                <div class="window-content">${content}</div>
            `;
            document.getElementById("window-container").appendChild(win);

            makeDraggable(win);
        }

        function makeDraggable(win) {
            let header = win.querySelector(".window-header");
            let isDragging = false;
            let offsetX, offsetY;

            header.addEventListener("mousedown", (e) => {
                isDragging = true;
                offsetX = e.clientX - win.offsetLeft;
                offsetY = e.clientY - win.offsetTop;
            });

            document.addEventListener("mousemove", (e) => {
                if (isDragging) {
                    win.style.left = e.clientX - offsetX + "px";
                    win.style.top = e.clientY - offsetY + "px";
                }
            });

            document.addEventListener("mouseup", () => isDragging = false);
        }

        document.addEventListener("DOMContentLoaded", () => {
            const mascot = document.getElementById("mascot");
            let dx = 2, dy = 2;

            function moveMascot() {
                let rect = mascot.getBoundingClientRect();
                let docWidth = window.innerWidth;
                let docHeight = window.innerHeight;

                if (rect.left <= 0 || rect.right >= docWidth) dx *= -1;
                if (rect.top <= 0 || rect.bottom >= docHeight) dy *= -1;

                mascot.style.left = rect.left + dx + "px";
                mascot.style.top = rect.top + dy + "px";

                requestAnimationFrame(moveMascot);
            }
            moveMascot();
        });

        // Open Control Center on swipe from top right
        let touchStartY;
        document.addEventListener("touchstart", (e) => touchStartY = e.touches[0].clientY);

        document.addEventListener("touchend", (e) => {
            let touchEndY = e.changedTouches[0].clientY;
            if (touchStartY > touchEndY + 50) {
                document.getElementById("control-center").classList.add("open");
            }
        });

        document.addEventListener("click", (e) => {
            if (!document.getElementById("control-center").contains(e.target)) {
                document.getElementById("control-center").classList.remove("open");
            }
        });
    </script>
</body>
</html>
